
*{box-sizing:border-box}:root{--bg:#000;--fg:#fff;--muted:#9ca3af;--card:#0a0a0a;--border:#111;--brand:#4ade80;--danger:#ef4444;--shadow:0 3px 14px rgba(0,0,0,.22)}
:root[data-theme=light]{--bg:#f7f7f7;--fg:#0a0a0a;--muted:#6b7280;--card:#fff;--border:#e5e7eb;--shadow:0 3px 12px rgba(0,0,0,.06)}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Inter,system-ui,sans-serif}
.mono{font-variant-numeric:tabular-nums;font-family:ui-monospace,SFMono-Regular,Menlo,monospace}
body{min-height:100svh;display:flex;flex-direction:column;overflow-x:hidden;touch-action:manipulation}
main#view{flex:1;padding:calc(env(safe-area-inset-top) + 6px) 6px calc(96px + env(safe-area-inset-bottom))}
.screen{display:none}.screen.active{display:block}
.group{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:6px;box-shadow:var(--shadow);margin-bottom:6px}
.row-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}
input,select,textarea,button{font:inherit}
.strip{display:grid;grid-template-columns:.6fr .8fr 1fr 1fr auto;gap:6px}
.strip input,.strip select{height:30px;border:1px solid var(--border);background:transparent;color:var(--fg);border-radius:9px;padding:6px 8px}
.primary{background:var(--brand);border:none;color:#000;font-weight:700;padding:7px 10px;border-radius:999px}
button{background:transparent;color:var(--fg);border:1px solid var(--border);padding:6px 8px;border-radius:999px}
button.ghost{background:transparent;border-color:var(--border)}button.danger{background:var(--danger);color:#fff;border:none;border-radius:9px}
.chips{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-bottom:6px}
.chips>div{border:1px solid var(--border);border-radius:9px;padding:6px;display:flex;flex-direction:column;gap:2px}
.list{list-style:none;margin:0;padding:0}.list li{display:grid;grid-template-columns:1fr auto;align-items:center;gap:6px;padding:6px 2px;border-bottom:1px solid var(--border)}
.list.ultra li{padding:4px 2px}.badge{font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid var(--border);color:var(--muted);width:fit-content}
.meta{display:flex;gap:6px;font-size:12px;color:var(--muted)}.amount{font-weight:600}.pos{color:#16a34a}.neg{color:#ef4444}
canvas{width:100%;height:auto;display:block;background:var(--card);border:1px solid var(--border);border-radius:9px}
.mini{display:grid;grid-template-columns:auto 1fr auto auto auto auto;align-items:center;gap:6px;margin-top:6px}
.mini input{height:28px;border:1px solid var(--border);background:transparent;color:var(--fg);border-radius:9px;padding:4px 8px}
.tabbar{position:fixed;left:0;right:0;bottom:0;background:rgba(10,10,10,.96);border-top:1px solid var(--border);display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:minmax(34px,auto);padding:2px 0;gap:0;padding-bottom:calc(2px + env(safe-area-inset-bottom));z-index:30}
:root[data-theme=light] .tabbar{background:rgba(255,255,255,.96)}
.tabbar button{border:none;padding:2px 0;display:flex;flex-direction:column;gap:0;align-items:center;justify-content:center;-webkit-tap-highlight-color:transparent;font-size:12px}
.tabbar button span{font-size:10px;color:var(--muted)}.tabbar button.active{color:var(--brand)}.tabbar button.active span{color:var(--brand)}
